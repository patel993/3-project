{"ast":null,"code":"import React,{Fragment}from\"react\";import CheckoutSteps from\"../Cart/CheckoutSteps\";import{useSelector}from\"react-redux\";import MetaData from\"../layout/MetaData\";import\"./ConfirmOrder.css\";import{Link}from\"react-router-dom\";import{Typography}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConfirmOrder=function ConfirmOrder(_ref){var history=_ref.history;var _useSelector=useSelector(function(state){return state.cart;}),shippingInfo=_useSelector.shippingInfo,cartItems=_useSelector.cartItems;var _useSelector2=useSelector(function(state){return state.user;}),user=_useSelector2.user;var subtotal=cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0);var shippingCharges=subtotal>1000?0:200;var tax=subtotal*0.18;var totalPrice=subtotal+tax+shippingCharges;var address=\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.state,\", \").concat(shippingInfo.pinCode,\", \").concat(shippingInfo.country);var proceedToPayment=function proceedToPayment(){var data={subtotal:subtotal,shippingCharges:shippingCharges,tax:tax,totalPrice:totalPrice};sessionStorage.setItem(\"orderInfo\",JSON.stringify(data));history.push(\"/process/payment\");};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Confirm Order\"}),/*#__PURE__*/_jsx(CheckoutSteps,{activeStep:1}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmOrderPage\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confirmshippingArea\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmshippingAreaBox\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:user.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{children:shippingInfo.phoneNo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{children:address})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmCartItems\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Your Cart Items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmCartItemsContainer\",children:cartItems&&cartItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\" X \\u20B9\",item.price,\" =\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u20B9\",item.price*item.quantity]})]})]},item.product);})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"orderSummary\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Order Summery\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",subtotal]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Shipping Charges:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",shippingCharges]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"GST:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",tax]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderSummaryTotal\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Total:\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",totalPrice]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:proceedToPayment,children:\"Proceed To Payment\"})]})})]})]});};export default ConfirmOrder;","map":{"version":3,"sources":["/home/xlandroid1/Desktop/react data/frontend/src/component/Cart/ConfirmOrder.js"],"names":["React","Fragment","CheckoutSteps","useSelector","MetaData","Link","Typography","ConfirmOrder","history","state","cart","shippingInfo","cartItems","user","subtotal","reduce","acc","item","quantity","price","shippingCharges","tax","totalPrice","address","city","pinCode","country","proceedToPayment","data","sessionStorage","setItem","JSON","stringify","push","name","phoneNo","map","image","product"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport CheckoutSteps from \"../Cart/CheckoutSteps\";\nimport { useSelector } from \"react-redux\";\nimport MetaData from \"../layout/MetaData\";\nimport \"./ConfirmOrder.css\";\nimport { Link } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\n\nconst ConfirmOrder = ({ history }) => {\n  const { shippingInfo, cartItems } = useSelector((state) => state.cart);\n  const { user } = useSelector((state) => state.user);\n\n  const subtotal = cartItems.reduce(\n    (acc, item) => acc + item.quantity * item.price,\n    0\n  );\n\n  const shippingCharges = subtotal > 1000 ? 0 : 200;\n\n  const tax = subtotal * 0.18;\n\n  const totalPrice = subtotal + tax + shippingCharges;\n\n  const address = `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.state}, ${shippingInfo.pinCode}, ${shippingInfo.country}`;\n\n  const proceedToPayment = () => {\n    const data = {\n      subtotal,\n      shippingCharges,\n      tax,\n      totalPrice,\n    };\n\n    sessionStorage.setItem(\"orderInfo\", JSON.stringify(data));\n\n    history.push(\"/process/payment\");\n  };\n\n  return (\n    <Fragment>\n      <MetaData title=\"Confirm Order\" />\n      <CheckoutSteps activeStep={1} />\n      <div className=\"confirmOrderPage\">\n        <div>\n          <div className=\"confirmshippingArea\">\n            <Typography>Shipping Info</Typography>\n            <div className=\"confirmshippingAreaBox\">\n              <div>\n                <p>Name:</p>\n                <span>{user.name}</span>\n              </div>\n              <div>\n                <p>Phone:</p>\n                <span>{shippingInfo.phoneNo}</span>\n              </div>\n              <div>\n                <p>Address:</p>\n                <span>{address}</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"confirmCartItems\">\n            <Typography>Your Cart Items:</Typography>\n            <div className=\"confirmCartItemsContainer\">\n              {cartItems &&\n                cartItems.map((item) => (\n                  <div key={item.product}>\n                    <img src={item.image} alt=\"Product\" />\n                    <Link to={`/product/${item.product}`}>\n                      {item.name}\n                    </Link>{\" \"}\n                    <span>\n                      {item.quantity} X ₹{item.price} ={\" \"}\n                      <b>₹{item.price * item.quantity}</b>\n                    </span>\n                  </div>\n                ))}\n            </div>\n          </div>\n        </div>\n        {/*  */}\n        <div>\n          <div className=\"orderSummary\">\n            <Typography>Order Summery</Typography>\n            <div>\n              <div>\n                <p>Subtotal:</p>\n                <span>₹{subtotal}</span>\n              </div>\n              <div>\n                <p>Shipping Charges:</p>\n                <span>₹{shippingCharges}</span>\n              </div>\n              <div>\n                <p>GST:</p>\n                <span>₹{tax}</span>\n              </div>\n            </div>\n\n            <div className=\"orderSummaryTotal\">\n              <p>\n                <b>Total:</b>\n              </p>\n              <span>₹{totalPrice}</span>\n            </div>\n\n            <button onClick={proceedToPayment}>Proceed To Payment</button>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default ConfirmOrder;\n"]},"metadata":{},"sourceType":"module"}