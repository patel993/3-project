{"ast":null,"code":"import _slicedToArray from\"/home/xlandroid1/Desktop/react data/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from\"react\";import MetaData from\"../layout/MetaData\";import{Link}from\"react-router-dom\";import{Typography}from\"@material-ui/core\";import SideBar from\"./Sidebar\";import{getOrderDetails,clearErrors,updateOrder}from\"../../actions/orderAction\";import{useSelector,useDispatch}from\"react-redux\";import Loader from\"../layout/Loader/Loader\";import{useAlert}from\"react-alert\";import AccountTreeIcon from\"@material-ui/icons/AccountTree\";import{Button}from\"@material-ui/core\";import{UPDATE_ORDER_RESET}from\"../../constants/orderConstants\";import\"./processOrder.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProcessOrder=function ProcessOrder(_ref){var history=_ref.history,match=_ref.match;var _useSelector=useSelector(function(state){return state.orderDetails;}),order=_useSelector.order,error=_useSelector.error,loading=_useSelector.loading;var _useSelector2=useSelector(function(state){return state.order;}),updateError=_useSelector2.error,isUpdated=_useSelector2.isUpdated;var updateOrderSubmitHandler=function updateOrderSubmitHandler(e){e.preventDefault();var myForm=new FormData();myForm.set(\"status\",status);dispatch(updateOrder(match.params.id,myForm));};var dispatch=useDispatch();var alert=useAlert();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}if(updateError){alert.error(updateError);dispatch(clearErrors());}if(isUpdated){alert.success(\"Order Updated Successfully\");dispatch({type:UPDATE_ORDER_RESET});}dispatch(getOrderDetails(match.params.id));},[dispatch,alert,error,match.params.id,isUpdated,updateError]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Process Order\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(SideBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"newProductContainer\",children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"confirmOrderPage\",style:{display:order.orderStatus===\"Delivered\"?\"block\":\"grid\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confirmshippingArea\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainerBox\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.user&&order.user.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.shippingInfo&&order.shippingInfo.phoneNo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.shippingInfo&&\"\".concat(order.shippingInfo.address,\", \").concat(order.shippingInfo.city,\", \").concat(order.shippingInfo.state,\", \").concat(order.shippingInfo.pinCode,\", \").concat(order.shippingInfo.country)})]})]}),/*#__PURE__*/_jsx(Typography,{children:\"Payment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainerBox\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:order.paymentInfo&&order.paymentInfo.status===\"succeeded\"?\"greenColor\":\"redColor\",children:order.paymentInfo&&order.paymentInfo.status===\"succeeded\"?\"PAID\":\"NOT PAID\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.totalPrice&&order.totalPrice})]})]}),/*#__PURE__*/_jsx(Typography,{children:\"Order Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orderDetailsContainerBox\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&order.orderStatus===\"Delivered\"?\"greenColor\":\"redColor\",children:order.orderStatus&&order.orderStatus})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmCartItems\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Your Cart Items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmCartItemsContainer\",children:order.orderItems&&order.orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\" X \\u20B9\",item.price,\" =\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u20B9\",item.price*item.quantity]})]})]},item.product);})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:order.orderStatus===\"Delivered\"?\"none\":\"block\"},children:/*#__PURE__*/_jsxs(\"form\",{className:\"updateOrderForm\",onSubmit:updateOrderSubmitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Process Order\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AccountTreeIcon,{}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose Category\"}),order.orderStatus===\"Processing\"&&/*#__PURE__*/_jsx(\"option\",{value:\"Shipped\",children:\"Shipped\"}),order.orderStatus===\"Shipped\"&&/*#__PURE__*/_jsx(\"option\",{value:\"Delivered\",children:\"Delivered\"})]})]}),/*#__PURE__*/_jsx(Button,{id:\"createProductBtn\",type:\"submit\",disabled:loading?true:false||status===\"\"?true:false,children:\"Process\"})]})})]})})]})]});};export default ProcessOrder;","map":{"version":3,"sources":["/home/xlandroid1/Desktop/react data/frontend/src/component/Admin/ProcessOrder.js"],"names":["React","Fragment","useEffect","useState","MetaData","Link","Typography","SideBar","getOrderDetails","clearErrors","updateOrder","useSelector","useDispatch","Loader","useAlert","AccountTreeIcon","Button","UPDATE_ORDER_RESET","ProcessOrder","history","match","state","orderDetails","order","error","loading","updateError","isUpdated","updateOrderSubmitHandler","e","preventDefault","myForm","FormData","set","status","dispatch","params","id","alert","setStatus","success","type","display","orderStatus","user","name","shippingInfo","phoneNo","address","city","pinCode","country","paymentInfo","totalPrice","orderItems","map","item","image","product","quantity","price","target","value"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OACEC,eADF,CAEEC,WAFF,CAGEC,WAHF,KAIO,2BAJP,CAKA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAO,oBAAP,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAwB,IAArBC,CAAAA,OAAqB,MAArBA,OAAqB,CAAZC,KAAY,MAAZA,KAAY,CAC3C,iBAAkCT,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAjB,EAAD,CAA7C,CAAQC,KAAR,cAAQA,KAAR,CAAeC,KAAf,cAAeA,KAAf,CAAsBC,OAAtB,cAAsBA,OAAtB,CACA,kBAA0Cd,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACE,KAAjB,EAAD,CAArD,CAAeG,WAAf,eAAQF,KAAR,CAA4BG,SAA5B,eAA4BA,SAA5B,CAEA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,CAAD,CAAO,CACtCA,CAAC,CAACC,cAAF,GAEA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CAEAD,MAAM,CAACE,GAAP,CAAW,QAAX,CAAqBC,MAArB,EAEAC,QAAQ,CAACzB,WAAW,CAACU,KAAK,CAACgB,MAAN,CAAaC,EAAd,CAAkBN,MAAlB,CAAZ,CAAR,CACD,CARD,CAUA,GAAMI,CAAAA,QAAQ,CAAGvB,WAAW,EAA5B,CACA,GAAM0B,CAAAA,KAAK,CAAGxB,QAAQ,EAAtB,CAEA,cAA4BX,QAAQ,CAAC,EAAD,CAApC,wCAAO+B,MAAP,eAAeK,SAAf,eAEArC,SAAS,CAAC,UAAM,CACd,GAAIsB,KAAJ,CAAW,CACTc,KAAK,CAACd,KAAN,CAAYA,KAAZ,EACAW,QAAQ,CAAC1B,WAAW,EAAZ,CAAR,CACD,CACD,GAAIiB,WAAJ,CAAiB,CACfY,KAAK,CAACd,KAAN,CAAYE,WAAZ,EACAS,QAAQ,CAAC1B,WAAW,EAAZ,CAAR,CACD,CACD,GAAIkB,SAAJ,CAAe,CACbW,KAAK,CAACE,OAAN,CAAc,4BAAd,EACAL,QAAQ,CAAC,CAAEM,IAAI,CAAExB,kBAAR,CAAD,CAAR,CACD,CAEDkB,QAAQ,CAAC3B,eAAe,CAACY,KAAK,CAACgB,MAAN,CAAaC,EAAd,CAAhB,CAAR,CACD,CAfQ,CAeN,CAACF,QAAD,CAAWG,KAAX,CAAkBd,KAAlB,CAAyBJ,KAAK,CAACgB,MAAN,CAAaC,EAAtC,CAA0CV,SAA1C,CAAqDD,WAArD,CAfM,CAAT,CAiBA,mBACE,MAAC,QAAD,yBACE,KAAC,QAAD,EAAU,KAAK,CAAC,eAAhB,EADF,cAEE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,OAAD,IADF,cAEE,YAAK,SAAS,CAAC,qBAAf,UACGD,OAAO,cACN,KAAC,MAAD,IADM,cAGN,aACE,SAAS,CAAC,kBADZ,CAEE,KAAK,CAAE,CACLiB,OAAO,CAAEnB,KAAK,CAACoB,WAAN,GAAsB,WAAtB,CAAoC,OAApC,CAA8C,MADlD,CAFT,wBAME,oCACE,aAAK,SAAS,CAAC,qBAAf,wBACE,KAAC,UAAD,4BADF,cAEE,aAAK,SAAS,CAAC,0BAAf,wBACE,oCACE,4BADF,cAEE,sBAAOpB,KAAK,CAACqB,IAAN,EAAcrB,KAAK,CAACqB,IAAN,CAAWC,IAAhC,EAFF,GADF,cAKE,oCACE,6BADF,cAEE,sBACGtB,KAAK,CAACuB,YAAN,EAAsBvB,KAAK,CAACuB,YAAN,CAAmBC,OAD5C,EAFF,GALF,cAWE,oCACE,+BADF,cAEE,sBACGxB,KAAK,CAACuB,YAAN,YACIvB,KAAK,CAACuB,YAAN,CAAmBE,OADvB,cACmCzB,KAAK,CAACuB,YAAN,CAAmBG,IADtD,cAC+D1B,KAAK,CAACuB,YAAN,CAAmBzB,KADlF,cAC4FE,KAAK,CAACuB,YAAN,CAAmBI,OAD/G,cAC2H3B,KAAK,CAACuB,YAAN,CAAmBK,OAD9I,CADH,EAFF,GAXF,GAFF,cAsBE,KAAC,UAAD,sBAtBF,cAuBE,aAAK,SAAS,CAAC,0BAAf,wBACE,kCACE,UACE,SAAS,CACP5B,KAAK,CAAC6B,WAAN,EACA7B,KAAK,CAAC6B,WAAN,CAAkBlB,MAAlB,GAA6B,WAD7B,CAEI,YAFJ,CAGI,UALR,UAQGX,KAAK,CAAC6B,WAAN,EACD7B,KAAK,CAAC6B,WAAN,CAAkBlB,MAAlB,GAA6B,WAD5B,CAEG,MAFH,CAGG,UAXN,EADF,EADF,cAiBE,oCACE,8BADF,cAEE,sBAAOX,KAAK,CAAC8B,UAAN,EAAoB9B,KAAK,CAAC8B,UAAjC,EAFF,GAjBF,GAvBF,cA8CE,KAAC,UAAD,2BA9CF,cA+CE,YAAK,SAAS,CAAC,0BAAf,uBACE,kCACE,UACE,SAAS,CACP9B,KAAK,CAACoB,WAAN,EAAqBpB,KAAK,CAACoB,WAAN,GAAsB,WAA3C,CACI,YADJ,CAEI,UAJR,UAOGpB,KAAK,CAACoB,WAAN,EAAqBpB,KAAK,CAACoB,WAP9B,EADF,EADF,EA/CF,GADF,cA8DE,aAAK,SAAS,CAAC,kBAAf,wBACE,KAAC,UAAD,+BADF,cAEE,YAAK,SAAS,CAAC,2BAAf,UACGpB,KAAK,CAAC+B,UAAN,EACC/B,KAAK,CAAC+B,UAAN,CAAiBC,GAAjB,CAAqB,SAACC,IAAD,qBACnB,oCACE,YAAK,GAAG,CAAEA,IAAI,CAACC,KAAf,CAAsB,GAAG,CAAC,SAA1B,EADF,cAEE,KAAC,IAAD,EAAM,EAAE,oBAAcD,IAAI,CAACE,OAAnB,CAAR,UACGF,IAAI,CAACX,IADR,EAFF,CAIU,GAJV,cAKE,wBACGW,IAAI,CAACG,QADR,aACsBH,IAAI,CAACI,KAD3B,MACoC,GADpC,cAEE,8BAAKJ,IAAI,CAACI,KAAL,CAAaJ,IAAI,CAACG,QAAvB,GAFF,GALF,GAAUH,IAAI,CAACE,OAAf,CADmB,EAArB,CAFJ,EAFF,GA9DF,GANF,cAwFE,YACE,KAAK,CAAE,CACLhB,OAAO,CAAEnB,KAAK,CAACoB,WAAN,GAAsB,WAAtB,CAAoC,MAApC,CAA6C,OADjD,CADT,uBAKE,cACE,SAAS,CAAC,iBADZ,CAEE,QAAQ,CAAEf,wBAFZ,wBAIE,qCAJF,cAME,oCACE,KAAC,eAAD,IADF,cAEE,gBAAQ,QAAQ,CAAE,kBAACC,CAAD,QAAOU,CAAAA,SAAS,CAACV,CAAC,CAACgC,MAAF,CAASC,KAAV,CAAhB,EAAlB,wBACE,eAAQ,KAAK,CAAC,EAAd,6BADF,CAEGvC,KAAK,CAACoB,WAAN,GAAsB,YAAtB,eACC,eAAQ,KAAK,CAAC,SAAd,qBAHJ,CAMGpB,KAAK,CAACoB,WAAN,GAAsB,SAAtB,eACC,eAAQ,KAAK,CAAC,WAAd,uBAPJ,GAFF,GANF,cAoBE,KAAC,MAAD,EACE,EAAE,CAAC,kBADL,CAEE,IAAI,CAAC,QAFP,CAGE,QAAQ,CACNlB,OAAO,CAAG,IAAH,CAAU,OAASS,MAAM,GAAK,EAApB,CAAyB,IAAzB,CAAgC,KAJrD,qBApBF,GALF,EAxFF,GAJJ,EAFF,GAFF,GADF,CA2ID,CA/KD,CAiLA,cAAehB,CAAAA,YAAf","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport MetaData from \"../layout/MetaData\";\nimport { Link } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport SideBar from \"./Sidebar\";\nimport {\n  getOrderDetails,\n  clearErrors,\n  updateOrder,\n} from \"../../actions/orderAction\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Loader from \"../layout/Loader/Loader\";\nimport { useAlert } from \"react-alert\";\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\";\nimport { Button } from \"@material-ui/core\";\nimport { UPDATE_ORDER_RESET } from \"../../constants/orderConstants\";\nimport \"./processOrder.css\";\n\nconst ProcessOrder = ({ history, match }) => {\n  const { order, error, loading } = useSelector((state) => state.orderDetails);\n  const { error: updateError, isUpdated } = useSelector((state) => state.order);\n\n  const updateOrderSubmitHandler = (e) => {\n    e.preventDefault();\n\n    const myForm = new FormData();\n\n    myForm.set(\"status\", status);\n\n    dispatch(updateOrder(match.params.id, myForm));\n  };\n\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const [status, setStatus] = useState(\"\");\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n    if (updateError) {\n      alert.error(updateError);\n      dispatch(clearErrors());\n    }\n    if (isUpdated) {\n      alert.success(\"Order Updated Successfully\");\n      dispatch({ type: UPDATE_ORDER_RESET });\n    }\n\n    dispatch(getOrderDetails(match.params.id));\n  }, [dispatch, alert, error, match.params.id, isUpdated, updateError]);\n\n  return (\n    <Fragment>\n      <MetaData title=\"Process Order\" />\n      <div className=\"dashboard\">\n        <SideBar />\n        <div className=\"newProductContainer\">\n          {loading ? (\n            <Loader />\n          ) : (\n            <div\n              className=\"confirmOrderPage\"\n              style={{\n                display: order.orderStatus === \"Delivered\" ? \"block\" : \"grid\",\n              }}\n            >\n              <div>\n                <div className=\"confirmshippingArea\">\n                  <Typography>Shipping Info</Typography>\n                  <div className=\"orderDetailsContainerBox\">\n                    <div>\n                      <p>Name:</p>\n                      <span>{order.user && order.user.name}</span>\n                    </div>\n                    <div>\n                      <p>Phone:</p>\n                      <span>\n                        {order.shippingInfo && order.shippingInfo.phoneNo}\n                      </span>\n                    </div>\n                    <div>\n                      <p>Address:</p>\n                      <span>\n                        {order.shippingInfo &&\n                          `${order.shippingInfo.address}, ${order.shippingInfo.city}, ${order.shippingInfo.state}, ${order.shippingInfo.pinCode}, ${order.shippingInfo.country}`}\n                      </span>\n                    </div>\n                  </div>\n\n                  <Typography>Payment</Typography>\n                  <div className=\"orderDetailsContainerBox\">\n                    <div>\n                      <p\n                        className={\n                          order.paymentInfo &&\n                          order.paymentInfo.status === \"succeeded\"\n                            ? \"greenColor\"\n                            : \"redColor\"\n                        }\n                      >\n                        {order.paymentInfo &&\n                        order.paymentInfo.status === \"succeeded\"\n                          ? \"PAID\"\n                          : \"NOT PAID\"}\n                      </p>\n                    </div>\n\n                    <div>\n                      <p>Amount:</p>\n                      <span>{order.totalPrice && order.totalPrice}</span>\n                    </div>\n                  </div>\n\n                  <Typography>Order Status</Typography>\n                  <div className=\"orderDetailsContainerBox\">\n                    <div>\n                      <p\n                        className={\n                          order.orderStatus && order.orderStatus === \"Delivered\"\n                            ? \"greenColor\"\n                            : \"redColor\"\n                        }\n                      >\n                        {order.orderStatus && order.orderStatus}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"confirmCartItems\">\n                  <Typography>Your Cart Items:</Typography>\n                  <div className=\"confirmCartItemsContainer\">\n                    {order.orderItems &&\n                      order.orderItems.map((item) => (\n                        <div key={item.product}>\n                          <img src={item.image} alt=\"Product\" />\n                          <Link to={`/product/${item.product}`}>\n                            {item.name}\n                          </Link>{\" \"}\n                          <span>\n                            {item.quantity} X ₹{item.price} ={\" \"}\n                            <b>₹{item.price * item.quantity}</b>\n                          </span>\n                        </div>\n                      ))}\n                  </div>\n                </div>\n              </div>\n              {/*  */}\n              <div\n                style={{\n                  display: order.orderStatus === \"Delivered\" ? \"none\" : \"block\",\n                }}\n              >\n                <form\n                  className=\"updateOrderForm\"\n                  onSubmit={updateOrderSubmitHandler}\n                >\n                  <h1>Process Order</h1>\n\n                  <div>\n                    <AccountTreeIcon />\n                    <select onChange={(e) => setStatus(e.target.value)}>\n                      <option value=\"\">Choose Category</option>\n                      {order.orderStatus === \"Processing\" && (\n                        <option value=\"Shipped\">Shipped</option>\n                      )}\n\n                      {order.orderStatus === \"Shipped\" && (\n                        <option value=\"Delivered\">Delivered</option>\n                      )}\n                    </select>\n                  </div>\n\n                  <Button\n                    id=\"createProductBtn\"\n                    type=\"submit\"\n                    disabled={\n                      loading ? true : false || status === \"\" ? true : false\n                    }\n                  >\n                    Process\n                  </Button>\n                </form>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default ProcessOrder;\n"]},"metadata":{},"sourceType":"module"}