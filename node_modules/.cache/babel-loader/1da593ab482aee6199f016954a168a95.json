{"ast":null,"code":"import _slicedToArray from\"/home/xlandroid1/Desktop/react data/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from\"react\";import\"./Products.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,getProduct}from\"../../actions/productAction\";import Loader from\"../layout/Loader/Loader\";import ProductCard from\"../Home/ProductCard\";import Pagination from\"react-js-pagination\";import Slider from\"@material-ui/core/Slider\";import{useAlert}from\"react-alert\";import Typography from\"@material-ui/core/Typography\";import MetaData from\"../layout/MetaData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categories=[\"Laptop\",\"Footwear\",\"Bottom\",\"Tops\",\"Attire\",\"Camera\",\"SmartPhones\"];var Products=function Products(_ref){var match=_ref.match;var dispatch=useDispatch();var alert=useAlert();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([0,25000]),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),ratings=_useState8[0],setRatings=_useState8[1];var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products,loading=_useSelector.loading,error=_useSelector.error,productsCount=_useSelector.productsCount,resultPerPage=_useSelector.resultPerPage,filteredProductsCount=_useSelector.filteredProductsCount;var keyword=match.params.keyword;var setCurrentPageNo=function setCurrentPageNo(e){setCurrentPage(e);};var priceHandler=function priceHandler(event,newPrice){setPrice(newPrice);};var count=filteredProductsCount;useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(getProduct(keyword,currentPage,price,category,ratings));},[dispatch,keyword,currentPage,price,category,ratings,alert,error]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"PRODUCTS -- ECOMMERCE\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"productsHeading\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products&&products.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{product:product},product._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Price\"}),/*#__PURE__*/_jsx(Slider,{value:price,onChange:priceHandler,valueLabelDisplay:\"auto\",\"aria-labelledby\":\"range-slider\",min:0,max:25000}),/*#__PURE__*/_jsx(Typography,{children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"categoryBox\",children:categories.map(function(category){return/*#__PURE__*/_jsx(\"li\",{className:\"category-link\",onClick:function onClick(){return setCategory(category);},children:category},category);})}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(Typography,{component:\"legend\",children:\"Ratings Above\"}),/*#__PURE__*/_jsx(Slider,{value:ratings,onChange:function onChange(e,newRating){setRatings(newRating);},\"aria-labelledby\":\"continuous-slider\",valueLabelDisplay:\"auto\",min:0,max:5})]})]}),resultPerPage<count&&/*#__PURE__*/_jsx(\"div\",{className:\"paginationBox\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"Last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"})})]})});};export default Products;","map":{"version":3,"sources":["/home/xlandroid1/Desktop/react data/frontend/src/component/Product/Products.js"],"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","Pagination","Slider","useAlert","Typography","MetaData","categories","Products","match","dispatch","alert","currentPage","setCurrentPage","price","setPrice","category","setCategory","ratings","setRatings","state","products","loading","error","productsCount","resultPerPage","filteredProductsCount","keyword","params","setCurrentPageNo","e","priceHandler","event","newPrice","count","map","product","_id","newRating"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./Products.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport ProductCard from \"../Home/ProductCard\";\nimport Pagination from \"react-js-pagination\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { useAlert } from \"react-alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MetaData from \"../layout/MetaData\";\n\nconst categories = [\n  \"Laptop\",\n  \"Footwear\",\n  \"Bottom\",\n  \"Tops\",\n  \"Attire\",\n  \"Camera\",\n  \"SmartPhones\",\n];\n\nconst Products = ({ match }) => {\n  const dispatch = useDispatch();\n\n  const alert = useAlert();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [price, setPrice] = useState([0, 25000]);\n  const [category, setCategory] = useState(\"\");\n\n  const [ratings, setRatings] = useState(0);\n\n  const {\n    products,\n    loading,\n    error,\n    productsCount,\n    resultPerPage,\n    filteredProductsCount,\n  } = useSelector((state) => state.products);\n\n  const keyword = match.params.keyword;\n\n  const setCurrentPageNo = (e) => {\n    setCurrentPage(e);\n  };\n\n  const priceHandler = (event, newPrice) => {\n    setPrice(newPrice);\n  };\n  let count = filteredProductsCount;\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(getProduct(keyword, currentPage, price, category, ratings));\n  }, [dispatch, keyword, currentPage, price, category, ratings, alert, error]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title=\"PRODUCTS -- ECOMMERCE\" />\n          <h2 className=\"productsHeading\">Products</h2>\n\n          <div className=\"products\">\n            {products &&\n              products.map((product) => (\n                <ProductCard key={product._id} product={product} />\n              ))}\n          </div>\n\n          <div className=\"filterBox\">\n            <Typography>Price</Typography>\n            <Slider\n              value={price}\n              onChange={priceHandler}\n              valueLabelDisplay=\"auto\"\n              aria-labelledby=\"range-slider\"\n              min={0}\n              max={25000}\n            />\n\n            <Typography>Categories</Typography>\n            <ul className=\"categoryBox\">\n              {categories.map((category) => (\n                <li\n                  className=\"category-link\"\n                  key={category}\n                  onClick={() => setCategory(category)}\n                >\n                  {category}\n                </li>\n              ))}\n            </ul>\n\n            <fieldset>\n              <Typography component=\"legend\">Ratings Above</Typography>\n              <Slider\n                value={ratings}\n                onChange={(e, newRating) => {\n                  setRatings(newRating);\n                }}\n                aria-labelledby=\"continuous-slider\"\n                valueLabelDisplay=\"auto\"\n                min={0}\n                max={5}\n              />\n            </fieldset>\n          </div>\n          {resultPerPage < count && (\n            <div className=\"paginationBox\">\n              <Pagination\n                activePage={currentPage}\n                itemsCountPerPage={resultPerPage}\n                totalItemsCount={productsCount}\n                onChange={setCurrentPageNo}\n                nextPageText=\"Next\"\n                prevPageText=\"Prev\"\n                firstPageText=\"1st\"\n                lastPageText=\"Last\"\n                itemClass=\"page-item\"\n                linkClass=\"page-link\"\n                activeClass=\"pageItemActive\"\n                activeLinkClass=\"pageLinkActive\"\n              />\n            </div>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}