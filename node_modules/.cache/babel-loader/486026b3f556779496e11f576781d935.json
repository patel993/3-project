{"ast":null,"code":"import _toConsumableArray from\"/home/xlandroid1/Desktop/react data/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/xlandroid1/Desktop/react data/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from\"react\";import\"./newProduct.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,createProduct}from\"../../actions/productAction\";import{useAlert}from\"react-alert\";import{Button}from\"@material-ui/core\";import MetaData from\"../layout/MetaData\";import AccountTreeIcon from\"@material-ui/icons/AccountTree\";import DescriptionIcon from\"@material-ui/icons/Description\";import StorageIcon from\"@material-ui/icons/Storage\";import SpellcheckIcon from\"@material-ui/icons/Spellcheck\";import AttachMoneyIcon from\"@material-ui/icons/AttachMoney\";import SideBar from\"./Sidebar\";import{NEW_PRODUCT_RESET}from\"../../constants/productConstants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewProduct=function NewProduct(_ref){var history=_ref.history;var dispatch=useDispatch();var alert=useAlert();var _useSelector=useSelector(function(state){return state.newProduct;}),loading=_useSelector.loading,error=_useSelector.error,success=_useSelector.success;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),Stock=_useState10[0],setStock=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),images=_useState12[0],setImages=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),imagesPreview=_useState14[0],setImagesPreview=_useState14[1];var categories=[\"Laptop\",\"Footwear\",\"Bottom\",\"Tops\",\"Attire\",\"Camera\",\"SmartPhones\"];useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}if(success){alert.success(\"Product Created Successfully\");history.push(\"/admin/dashboard\");dispatch({type:NEW_PRODUCT_RESET});}},[dispatch,alert,error,history,success]);var createProductSubmitHandler=function createProductSubmitHandler(e){e.preventDefault();var myForm=new FormData();myForm.set(\"name\",name);myForm.set(\"price\",price);myForm.set(\"description\",description);myForm.set(\"category\",category);myForm.set(\"Stock\",Stock);images.forEach(function(image){myForm.append(\"images\",image);});dispatch(createProduct(myForm));};var createProductImagesChange=function createProductImagesChange(e){var files=Array.from(e.target.files);setImages([]);setImagesPreview([]);files.forEach(function(file){var reader=new FileReader();reader.onload=function(){if(reader.readyState===2){setImagesPreview(function(old){return[].concat(_toConsumableArray(old),[reader.result]);});setImages(function(old){return[].concat(_toConsumableArray(old),[reader.result]);});}};reader.readAsDataURL(file);});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Create Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(SideBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"newProductContainer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"createProductForm\",encType:\"multipart/form-data\",onSubmit:createProductSubmitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Product\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SpellcheckIcon,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Product Name\",required:true,value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AttachMoneyIcon,{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Price\",required:true,onChange:function onChange(e){return setPrice(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(DescriptionIcon,{}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Product Description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},cols:\"30\",rows:\"1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AccountTreeIcon,{}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setCategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose Category\"}),categories.map(function(cate){return/*#__PURE__*/_jsx(\"option\",{value:cate,children:cate},cate);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(StorageIcon,{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Stock\",required:true,onChange:function onChange(e){return setStock(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{id:\"createProductFormFile\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"avatar\",accept:\"image/*\",onChange:createProductImagesChange,multiple:true})}),/*#__PURE__*/_jsx(\"div\",{id:\"createProductFormImage\",children:imagesPreview.map(function(image,index){return/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Product Preview\"},index);})}),/*#__PURE__*/_jsx(Button,{id:\"createProductBtn\",type:\"submit\",disabled:loading?true:false,children:\"Create\"})]})})]})]});};export default NewProduct;","map":{"version":3,"sources":["/home/xlandroid1/Desktop/react data/frontend/src/component/Admin/NewProduct.js"],"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","createProduct","useAlert","Button","MetaData","AccountTreeIcon","DescriptionIcon","StorageIcon","SpellcheckIcon","AttachMoneyIcon","SideBar","NEW_PRODUCT_RESET","NewProduct","history","dispatch","alert","state","newProduct","loading","error","success","name","setName","price","setPrice","description","setDescription","category","setCategory","Stock","setStock","images","setImages","imagesPreview","setImagesPreview","categories","push","type","createProductSubmitHandler","e","preventDefault","myForm","FormData","set","forEach","image","append","createProductImagesChange","files","Array","from","target","file","reader","FileReader","onload","readyState","old","result","readAsDataURL","value","map","cate","index"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./newProduct.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, createProduct } from \"../../actions/productAction\";\nimport { useAlert } from \"react-alert\";\nimport { Button } from \"@material-ui/core\";\nimport MetaData from \"../layout/MetaData\";\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport SpellcheckIcon from \"@material-ui/icons/Spellcheck\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport SideBar from \"./Sidebar\";\nimport { NEW_PRODUCT_RESET } from \"../../constants/productConstants\";\n\nconst NewProduct = ({ history }) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const { loading, error, success } = useSelector((state) => state.newProduct);\n\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [Stock, setStock] = useState(0);\n  const [images, setImages] = useState([]);\n  const [imagesPreview, setImagesPreview] = useState([]);\n\n  const categories = [\n    \"Laptop\",\n    \"Footwear\",\n    \"Bottom\",\n    \"Tops\",\n    \"Attire\",\n    \"Camera\",\n    \"SmartPhones\",\n  ];\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success(\"Product Created Successfully\");\n      history.push(\"/admin/dashboard\");\n      dispatch({ type: NEW_PRODUCT_RESET });\n    }\n  }, [dispatch, alert, error, history, success]);\n\n  const createProductSubmitHandler = (e) => {\n    e.preventDefault();\n\n    const myForm = new FormData();\n\n    myForm.set(\"name\", name);\n    myForm.set(\"price\", price);\n    myForm.set(\"description\", description);\n    myForm.set(\"category\", category);\n    myForm.set(\"Stock\", Stock);\n\n    images.forEach((image) => {\n      myForm.append(\"images\", image);\n    });\n    dispatch(createProduct(myForm));\n  };\n\n  const createProductImagesChange = (e) => {\n    const files = Array.from(e.target.files);\n\n    setImages([]);\n    setImagesPreview([]);\n\n    files.forEach((file) => {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        if (reader.readyState === 2) {\n          setImagesPreview((old) => [...old, reader.result]);\n          setImages((old) => [...old, reader.result]);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  return (\n    <Fragment>\n      <MetaData title=\"Create Product\" />\n      <div className=\"dashboard\">\n        <SideBar />\n        <div className=\"newProductContainer\">\n          <form\n            className=\"createProductForm\"\n            encType=\"multipart/form-data\"\n            onSubmit={createProductSubmitHandler}\n          >\n            <h1>Create Product</h1>\n\n            <div>\n              <SpellcheckIcon />\n              <input\n                type=\"text\"\n                placeholder=\"Product Name\"\n                required\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div>\n              <AttachMoneyIcon />\n              <input\n                type=\"number\"\n                placeholder=\"Price\"\n                required\n                onChange={(e) => setPrice(e.target.value)}\n              />\n            </div>\n\n            <div>\n              <DescriptionIcon />\n\n              <textarea\n                placeholder=\"Product Description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                cols=\"30\"\n                rows=\"1\"\n              ></textarea>\n            </div>\n\n            <div>\n              <AccountTreeIcon />\n              <select onChange={(e) => setCategory(e.target.value)}>\n                <option value=\"\">Choose Category</option>\n                {categories.map((cate) => (\n                  <option key={cate} value={cate}>\n                    {cate}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <StorageIcon />\n              <input\n                type=\"number\"\n                placeholder=\"Stock\"\n                required\n                onChange={(e) => setStock(e.target.value)}\n              />\n            </div>\n\n            <div id=\"createProductFormFile\">\n              <input\n                type=\"file\"\n                name=\"avatar\"\n                accept=\"image/*\"\n                onChange={createProductImagesChange}\n                multiple\n              />\n            </div>\n\n            <div id=\"createProductFormImage\">\n              {imagesPreview.map((image, index) => (\n                <img key={index} src={image} alt=\"Product Preview\" />\n              ))}\n            </div>\n\n            <Button\n              id=\"createProductBtn\"\n              type=\"submit\"\n              disabled={loading ? true : false}\n            >\n              Create\n            </Button>\n          </form>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default NewProduct;\n"]},"metadata":{},"sourceType":"module"}